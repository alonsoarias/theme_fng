{"version":3,"file":"prevent_copy_paste.min.js","sources":["../src/prevent_copy_paste.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Copy/paste prevention JavaScript module.\n *\n * @module     theme_aeronova/prevent_copy_paste\n * @copyright  2025 fng https://www.fng.co\n * @author     Pedro Arias <soporte@fng.co>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\ndefine(['jquery'], function($) {\n    'use strict';\n\n    var SELECTORS = {\n        ALLOWED_ELEMENTS: 'input, textarea'\n    };\n\n    var PreventCopyPaste = function() {\n        this.registerEventListeners();\n        this.disableSelection();\n    };\n\n    PreventCopyPaste.prototype.registerEventListeners = function() {\n        // Prevent right click context menu\n        $(document).on('contextmenu', function(e) {\n            if (!$(e.target).is(SELECTORS.ALLOWED_ELEMENTS)) {\n                e.preventDefault();\n                return false;\n            }\n        });\n\n        // Prevent keyboard shortcuts\n        $(document).on('keydown', function(e) {\n            if (!$(e.target).is(SELECTORS.ALLOWED_ELEMENTS)) {\n                if (e.ctrlKey || e.metaKey) {\n                    var key = e.key.toLowerCase();\n                    // Lista extendida de atajos a prevenir\n                    switch(key) {\n                        case 'c': // Copy\n                        case 'v': // Paste\n                        case 'x': // Cut\n                        case 'a': // Select all\n                        case 's': // Save page\n                        case 'u': // View source\n                        case 'p': // Print\n                        case 'j': // View downloads\n                        case 'd': // Bookmark page\n                        case 'f': // Find\n                        case 'g': // Find next\n                        case 'h': // View history\n                        case 'i': // Dev tools\n                        case 'k': // Insert link\n                        case 'w': // Close window\n                            e.preventDefault();\n                            e.stopPropagation();\n                            return false;\n                    }\n                }\n\n                // Prevent F12 (Dev Tools)\n                if (e.key === 'F12') {\n                    e.preventDefault();\n                    return false;\n                }\n\n                // Prevent Alt+PrintScreen\n                if (e.altKey && e.key === 'PrintScreen') {\n                    e.preventDefault();\n                    return false;\n                }\n\n                // Prevent PrintScreen\n                if (e.key === 'PrintScreen') {\n                    e.preventDefault();\n                    return false;\n                }\n            }\n        });\n\n        // Prevent copy/paste/cut\n        $(document).on('copy paste cut', function(e) {\n            if (!$(e.target).is(SELECTORS.ALLOWED_ELEMENTS)) {\n                e.preventDefault();\n                return false;\n            }\n        });\n\n        // Prevent drag and drop\n        $(document).on('dragstart drop', function(e) {\n            if (!$(e.target).is(SELECTORS.ALLOWED_ELEMENTS)) {\n                e.preventDefault();\n                return false;\n            }\n        });\n\n        // Prevent text selection\n        $(document).on('selectstart', function(e) {\n            if (!$(e.target).is(SELECTORS.ALLOWED_ELEMENTS)) {\n                e.preventDefault();\n                return false;\n            }\n        });\n    };\n\n    PreventCopyPaste.prototype.disableSelection = function() {\n        $('body').css({\n            '-webkit-user-select': 'none',\n            '-moz-user-select': 'none',\n            '-ms-user-select': 'none',\n            'user-select': 'none'\n        });\n    };\n\n    return {\n        init: function() {\n            return new PreventCopyPaste();\n        }\n    };\n});"],"names":["define","$","SELECTORS","PreventCopyPaste","registerEventListeners","disableSelection","prototype","document","on","e","target","is","preventDefault","ctrlKey","metaKey","key","toLowerCase","stopPropagation","altKey","css","init"],"mappings":";;;;;;;;AAuBAA,0CAAO,CAAC,WAAW,SAASC,OAGpBC,2BACkB,kBAGlBC,iBAAmB,gBACdC,8BACAC,2BAGTF,iBAAiBG,UAAUF,uBAAyB,WAEhDH,EAAEM,UAAUC,GAAG,eAAe,SAASC,OAC9BR,EAAEQ,EAAEC,QAAQC,GAAGT,mCAChBO,EAAEG,kBACK,KAKfX,EAAEM,UAAUC,GAAG,WAAW,SAASC,OAC1BR,EAAEQ,EAAEC,QAAQC,GAAGT,4BAA6B,IACzCO,EAAEI,SAAWJ,EAAEK,eACLL,EAAEM,IAAIC,mBAGP,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,QACA,WACDP,EAAEG,iBACFH,EAAEQ,mBACK,KAKL,QAAVR,EAAEM,WACFN,EAAEG,kBACK,KAIPH,EAAES,QAAoB,gBAAVT,EAAEM,WACdN,EAAEG,kBACK,KAIG,gBAAVH,EAAEM,WACFN,EAAEG,kBACK,MAMnBX,EAAEM,UAAUC,GAAG,kBAAkB,SAASC,OACjCR,EAAEQ,EAAEC,QAAQC,GAAGT,mCAChBO,EAAEG,kBACK,KAKfX,EAAEM,UAAUC,GAAG,kBAAkB,SAASC,OACjCR,EAAEQ,EAAEC,QAAQC,GAAGT,mCAChBO,EAAEG,kBACK,KAKfX,EAAEM,UAAUC,GAAG,eAAe,SAASC,OAC9BR,EAAEQ,EAAEC,QAAQC,GAAGT,mCAChBO,EAAEG,kBACK,MAKnBT,iBAAiBG,UAAUD,iBAAmB,WAC1CJ,EAAE,QAAQkB,IAAI,uBACa,0BACH,yBACD,qBACJ,UAIhB,CACHC,KAAM,kBACK,IAAIjB"}